import{r as l,j as e}from"./index-wBk0bpOZ.js";import{g as h,a as x,d as j}from"./reviewService-D6o2sSg9.js";const g=()=>{const[n,o]=l.useState([]),[a,t]=l.useState("pending"),[p,r]=l.useState(!0);l.useEffect(()=>{d()},[]);const d=()=>{r(!0);const s=h();o(s),r(!1)},v=s=>{x(s)&&d()},m=s=>{window.confirm("Are you sure you want to delete this review?")&&j(s)&&d()},c=n.filter(s=>a==="all"?!0:a==="pending"?!s.approved:a==="approved"?s.approved:!0),i={total:n.length,pending:n.filter(s=>!s.approved).length,approved:n.filter(s=>s.approved).length};return p?e.jsx("div",{className:"admin-reviews-loading",children:"Loading reviews..."}):e.jsxs("div",{className:"admin-reviews",children:[e.jsxs("div",{className:"admin-reviews-header",children:[e.jsx("h1",{children:"Review Moderation"}),e.jsxs("div",{className:"review-stats",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("span",{className:"stat-value",children:i.total}),e.jsx("span",{className:"stat-label",children:"Total Reviews"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("span",{className:"stat-value",children:i.pending}),e.jsx("span",{className:"stat-label",children:"Pending"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("span",{className:"stat-value",children:i.approved}),e.jsx("span",{className:"stat-label",children:"Approved"})]})]})]}),e.jsxs("div",{className:"review-filters",children:[e.jsx("button",{className:a==="all"?"active":"",onClick:()=>t("all"),children:"All Reviews"}),e.jsxs("button",{className:a==="pending"?"active":"",onClick:()=>t("pending"),children:["Pending (",i.pending,")"]}),e.jsxs("button",{className:a==="approved"?"active":"",onClick:()=>t("approved"),children:["Approved (",i.approved,")"]})]}),e.jsx("div",{className:"reviews-list",children:c.length===0?e.jsx("div",{className:"no-reviews",children:e.jsxs("p",{children:["No ",a!=="all"?a:""," reviews found."]})}):c.map(s=>e.jsxs("div",{className:`review-card ${s.approved?"approved":"pending"}`,children:[e.jsxs("div",{className:"review-header",children:[e.jsxs("div",{className:"reviewer-info",children:[e.jsx("h3",{children:s.name}),e.jsx("span",{className:"review-email",children:s.email})]}),e.jsx("div",{className:"review-rating",children:"â­".repeat(s.rating)})]}),e.jsx("div",{className:"review-body",children:e.jsx("p",{children:s.comment})}),e.jsxs("div",{className:"review-meta",children:[e.jsx("span",{className:"review-date",children:new Date(s.date).toLocaleDateString()}),e.jsx("span",{className:`review-status ${s.approved?"status-approved":"status-pending"}`,children:s.approved?"Approved":"Pending"})]}),e.jsxs("div",{className:"review-actions",children:[!s.approved&&e.jsx("button",{className:"btn-approve",onClick:()=>v(s.id),children:"Approve"}),e.jsx("button",{className:"btn-delete",onClick:()=>m(s.id),children:"Delete"})]})]},s.id))})]})};export{g as default};
