import{an as f,r as n,ab as v,j as a,m as h,ao as p,ap as w,aq as y,Z as N}from"./index-AdFfQu87.js";import{a as o}from"./authService-CTy9EbHR.js";const E=()=>{const t=f(),[e,x]=n.useState({email:"",password:""}),[l,g]=n.useState(!1),[d,r]=n.useState(""),[c,m]=n.useState(!1);v.useEffect(()=>{const s=o.getCurrentUser();s&&s.role==="admin"&&t("/admin/dashboard")},[t]);const u=s=>{x({...e,[s.target.name]:s.target.value}),r("")},j=async s=>{s.preventDefault(),m(!0),r("");try{const i=await o.login(e.email,e.password);i.success&&i.user&&(i.user.role==="admin"?t("/admin/dashboard"):(r("Access denied. Admin privileges required."),o.logout()))}catch(i){r(i.message||"Invalid credentials")}finally{m(!1)}};return a.jsx("div",{className:"admin-login-page",children:a.jsx("div",{className:"admin-login-container",children:a.jsxs(h.div,{className:"admin-login-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsxs("div",{className:"admin-login-header",children:[a.jsx("div",{className:"admin-logo",children:a.jsx(p,{})}),a.jsx("h1",{children:"Admin Portal"}),a.jsx("p",{children:"E Flash Management System"})]}),d&&a.jsx(h.div,{className:"error-alert",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:d}),a.jsxs("form",{onSubmit:j,className:"admin-login-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"email",children:[a.jsx(w,{})," Email Address"]}),a.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:u,placeholder:"admin@eflash24.tech",required:!0,autoFocus:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"password",children:[a.jsx(p,{})," Password"]}),a.jsxs("div",{className:"password-input-wrapper",children:[a.jsx("input",{type:l?"text":"password",id:"password",name:"password",value:e.password,onChange:u,placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",className:"password-toggle",onClick:()=>g(!l),children:l?a.jsx(y,{}):a.jsx(N,{})})]})]}),a.jsx("button",{type:"submit",className:"admin-login-btn",disabled:c,children:c?"Signing in...":"Sign In"})]}),a.jsxs("div",{className:"admin-login-footer",children:[a.jsx("p",{children:"Default Admin Credentials:"}),a.jsx("small",{children:"Email: admin@eflash24.tech | Password: admin123"})]})]})})})};export{E as default};
