import{r as d,aG as x,j as e,a4 as R,m as k,K as f,aH as L,az as _,aD as X,a5 as q}from"./index-DHgxhox7.js";/* empty css                  */const se=()=>{const[F,D]=d.useState([]),[v,h]=d.useState(!0),[A,u]=d.useState("");d.useEffect(()=>{N()},[]);const N=async()=>{try{h(!0),u("");const s=await x.getAllProjects();D(s)}catch(s){console.error("Error loading projects:",s),u("Failed to load projects. Using offline mode.");const r=x.getFallbackProjects();D(r)}finally{h(!1)}},[b,y]=d.useState(!1),[c,o]=d.useState(null),I={title:"",description:"",category:"Web Design",tags:[],technologies:[],liveUrl:"",thumbnail:"",images:[],features:[],clientName:"",projectDate:"",duration:"",challenge:"",solution:"",result:"",stats:{users:"",pages:"",performance:"",completion:""}},[m,g]=d.useState(I),W=["Web Design","Branding","UI/UX","Graphic Design","E-Commerce"],M=["React","Vue","Angular","WordPress","Shopify","HTML","CSS","JavaScript","Node.js","Python","Tailwind","Bootstrap","MongoDB","MySQL","Firebase"],B=async()=>{if(!(!m.title||!m.description))try{h(!0),u("");const s={...m,tags:m.tags.filter(l=>l.trim()),technologies:m.technologies.filter(l=>l.trim()),features:m.features.filter(l=>l.trim())},r=await x.addProject(s);await N(),g(I),y(!1)}catch(s){console.error("Error adding project:",s),u("Failed to add project. Please try again.")}finally{h(!1)}},H=s=>{o({...s})},K=async()=>{if(c)try{h(!0),u("");const s=c._id||c.id;await x.updateProject(s,c),await N(),o(null)}catch(s){console.error("Error updating project:",s),u("Failed to update project. Please try again.")}finally{h(!1)}},O=async s=>{if(window.confirm("Are you sure you want to delete this project?"))try{h(!0),u(""),await x.deleteProject(s),await N()}catch(r){console.error("Error deleting project:",r),u("Failed to delete project. Please try again.")}finally{h(!1)}},V=(s,r=!1)=>{Array.from(s.target.files).forEach(n=>{const i=new FileReader;i.onloadend=()=>{r?o(j=>({...j,images:[...j.images,i.result]})):g(j=>({...j,images:[...j.images,i.result]}))},i.readAsDataURL(n)})},T=(s,r=!1)=>{s.trim()&&(r?c.tags.includes(s)||o(l=>({...l,tags:[...l.tags,s]})):m.tags.includes(s)||g(l=>({...l,tags:[...l.tags,s]})))},$=(s=!1)=>{s?o(r=>({...r,features:[...r.features||[],""]})):g(r=>({...r,features:[...r.features||[],""]}))},z=(s,r,l=!1)=>{l?o(n=>{const i=[...n.features||[]];return i[s]=r,{...n,features:i}}):g(n=>{const i=[...n.features||[]];return i[s]=r,{...n,features:i}})},G=(s,r=!1)=>{r?o(l=>({...l,features:l.features.filter((n,i)=>i!==s)})):g(l=>({...l,features:l.features.filter((n,i)=>i!==s)}))},J=(s,r=!1)=>{r?o(l=>({...l,tags:l.tags.filter(n=>n!==s)})):g(l=>({...l,tags:l.tags.filter(n=>n!==s)}))},[w,C]=d.useState(""),[P,S]=d.useState(""),U=(s,r,l=!1)=>{var n,i,j,E;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"form-section-title",children:"Card Information (shown on portfolio grid)"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Project Title *"}),e.jsx("input",{type:"text",value:s.title,onChange:a=>r(t=>({...t,title:a.target.value})),placeholder:"Enter project title"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsx("select",{value:s.category,onChange:a=>r(t=>({...t,category:a.target.value})),children:W.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Client Name"}),e.jsx("input",{type:"text",value:s.clientName||"",onChange:a=>r(t=>({...t,clientName:a.target.value})),placeholder:"e.g. Acme Corp"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Project Date"}),e.jsx("input",{type:"month",value:s.projectDate||"",onChange:a=>r(t=>({...t,projectDate:a.target.value}))})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Short Description * (shown on card)"}),e.jsx("textarea",{value:s.description,onChange:a=>r(t=>({...t,description:a.target.value})),placeholder:"Brief description shown on the portfolio card",rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Live URL (optional)"}),e.jsx("input",{type:"url",value:s.liveUrl||"",onChange:a=>r(t=>({...t,liveUrl:a.target.value})),placeholder:"https://example.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Duration"}),e.jsx("input",{type:"text",value:s.duration||"",onChange:a=>r(t=>({...t,duration:a.target.value})),placeholder:"e.g. 4 weeks"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Card Tags"}),e.jsxs("div",{className:"tag-input-row",children:[e.jsx("input",{type:"text",value:l?P:w,onChange:a=>l?S(a.target.value):C(a.target.value),onKeyDown:a=>{(a.key==="Enter"||a.key===",")&&(a.preventDefault(),T(l?P:w,l),l?S(""):C(""))},placeholder:"Type tag and press Enter"}),e.jsx("button",{type:"button",className:"btn-add-tag",onClick:()=>{T(l?P:w,l),l?S(""):C("")},children:"Add"})]}),e.jsx("div",{className:"tags-list",children:(s.tags||[]).map(a=>e.jsxs("span",{className:"tag-chip",children:[a,e.jsx("button",{type:"button",onClick:()=>J(a,l),children:e.jsx(f,{})})]},a))})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Project Images"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:a=>V(a,l)}),(s.images||[]).length>0&&e.jsx("div",{className:"image-preview-grid",children:(s.images||[]).map((a,t)=>e.jsxs("div",{className:"image-preview-item",children:[e.jsx("img",{src:a,alt:`Preview ${t}`}),e.jsx("button",{type:"button",className:"remove-img-btn",onClick:()=>{r(p=>({...p,images:p.images.filter((Y,Q)=>Q!==t)}))},children:e.jsx(f,{})})]},t))})]})]}),e.jsx("div",{className:"form-section-title popup-section-title",children:'Popup Details (shown when "View Details" is clicked)'}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Technologies Used"}),e.jsx("div",{className:"tech-selector",children:M.map(a=>e.jsx("button",{type:"button",className:`tech-option ${(s.technologies||[]).includes(a)?"selected":""}`,onClick:()=>{r(t=>({...t,technologies:(t.technologies||[]).includes(a)?t.technologies.filter(p=>p!==a):[...t.technologies||[],a]}))},children:a},a))})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Challenge"}),e.jsx("textarea",{value:s.challenge||"",onChange:a=>r(t=>({...t,challenge:a.target.value})),placeholder:"What was the challenge or problem this project solved?",rows:3})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Solution"}),e.jsx("textarea",{value:s.solution||"",onChange:a=>r(t=>({...t,solution:a.target.value})),placeholder:"How did you solve it? What approach was taken?",rows:3})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Result"}),e.jsx("textarea",{value:s.result||"",onChange:a=>r(t=>({...t,result:a.target.value})),placeholder:"What were the outcomes or measurable results?",rows:3})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Key Features / Deliverables"}),(s.features||[]).map((a,t)=>e.jsxs("div",{className:"feature-input-row",children:[e.jsx("input",{type:"text",value:a,onChange:p=>z(t,p.target.value,l),placeholder:`Feature ${t+1}`}),e.jsx("button",{type:"button",className:"btn-remove-feature",onClick:()=>G(t,l),children:e.jsx(f,{})})]},t)),e.jsxs("button",{type:"button",className:"btn-add-feature",onClick:()=>$(l),children:[e.jsx(R,{})," Add Feature"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Stat: Users / Reach"}),e.jsx("input",{type:"text",value:((n=s.stats)==null?void 0:n.users)||"",onChange:a=>r(t=>({...t,stats:{...t.stats,users:a.target.value}})),placeholder:"e.g. 500+ users"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Stat: Pages / Screens"}),e.jsx("input",{type:"text",value:((i=s.stats)==null?void 0:i.pages)||"",onChange:a=>r(t=>({...t,stats:{...t.stats,pages:a.target.value}})),placeholder:"e.g. 12 pages"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Stat: Performance Score"}),e.jsx("input",{type:"text",value:((j=s.stats)==null?void 0:j.performance)||"",onChange:a=>r(t=>({...t,stats:{...t.stats,performance:a.target.value}})),placeholder:"e.g. 98/100"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Stat: Completion / ROI"}),e.jsx("input",{type:"text",value:((E=s.stats)==null?void 0:E.completion)||"",onChange:a=>r(t=>({...t,stats:{...t.stats,completion:a.target.value}})),placeholder:"e.g. On time"})]})]})]})};return e.jsxs("div",{className:"manage-projects admin-page admin-content",children:[e.jsxs("div",{className:"projects-header",children:[e.jsx("h1",{children:"Manage Projects"}),!b&&e.jsxs("button",{className:"add-project-btn",onClick:()=>y(!0),children:[e.jsx(R,{}),"Add New Project"]})]}),A&&e.jsx("div",{className:"error-banner",children:A}),v&&e.jsx("div",{className:"loading-banner",children:"Saving..."}),b&&e.jsxs(k.div,{className:"project-form-card",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsx("h3",{children:"Add New Project"}),U(m,g,!1),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{onClick:()=>y(!1),className:"btn-cancel",children:[e.jsx(f,{})," Cancel"]}),e.jsxs("button",{onClick:B,className:"btn-save",disabled:v,children:[e.jsx(L,{})," Add Project"]})]})]}),c&&e.jsx(k.div,{className:"project-form-card edit-modal-overlay",initial:{opacity:0},animate:{opacity:1},children:e.jsxs("div",{className:"edit-modal-inner",children:[e.jsxs("h3",{children:["Edit Project: ",c.title]}),U(c,o,!0),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{onClick:()=>o(null),className:"btn-cancel",children:[e.jsx(f,{})," Cancel"]}),e.jsxs("button",{onClick:K,className:"btn-save",disabled:v,children:[e.jsx(L,{})," Save Changes"]})]})]})}),!b&&!c&&e.jsx("div",{className:"projects-grid",children:F.map(s=>{var r,l;return e.jsxs(k.div,{className:"project-card",layout:!0,children:[e.jsx("div",{className:"project-thumbnail",children:(r=s.images)!=null&&r[0]||s.thumbnail?e.jsx("img",{src:((l=s.images)==null?void 0:l[0])||s.thumbnail,alt:s.title}):e.jsxs("div",{className:"no-image",children:[e.jsx(_,{}),e.jsx("span",{children:"No Image"})]})}),e.jsxs("div",{className:"project-content",children:[e.jsx("h3",{children:s.title}),e.jsx("p",{className:"project-category",children:s.category}),s.clientName&&e.jsxs("p",{className:"project-client",children:["Client: ",s.clientName]}),e.jsx("p",{className:"project-description",children:s.description}),s.technologies&&s.technologies.length>0&&e.jsxs("div",{className:"tech-tags",children:[s.technologies.slice(0,3).map(n=>e.jsx("span",{className:"tech-tag",children:n},n)),s.technologies.length>3&&e.jsxs("span",{className:"tech-more",children:["+",s.technologies.length-3]})]}),s.liveUrl&&e.jsx("a",{href:s.liveUrl,target:"_blank",rel:"noopener noreferrer",className:"live-link",children:"View Live Site"})]}),e.jsxs("div",{className:"project-actions",children:[e.jsx("button",{onClick:()=>H(s),className:"btn-edit",title:"Edit",children:e.jsx(X,{})}),e.jsx("button",{onClick:()=>O(s._id||s.id),className:"btn-delete",title:"Delete",children:e.jsx(q,{})})]})]},s._id||s.id)})}),F.length===0&&!b&&!v&&e.jsxs("div",{className:"no-projects",children:[e.jsx(_,{size:48}),e.jsx("h3",{children:"No projects yet"}),e.jsx("p",{children:'Click "Add New Project" to add your first project'})]})]})};export{se as default};
