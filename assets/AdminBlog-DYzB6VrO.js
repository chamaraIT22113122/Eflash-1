import{r,j as e}from"./index-DliiBw_A.js";import{g as D,u as w,c as k,p as E,d as S}from"./blogService-C4FcVD8p.js";const q=()=>{const[o,b]=r.useState([]),[a,m]=r.useState("all"),[N,x]=r.useState(!1),[h,j]=r.useState(null),[t,p]=r.useState({title:"",excerpt:"",content:"",author:"",category:"Design",tags:"",image:""});r.useEffect(()=>{c()},[]);const c=()=>{const s=D();b(s)},l=s=>{const{name:n,value:i}=s.target;p(y=>({...y,[n]:i}))},f=s=>{s.preventDefault();const n={...t,tags:t.tags.split(",").map(i=>i.trim()).filter(i=>i)};h?w(h.id,n)&&(u(),c()):k(n)&&(u(),c())},v=s=>{j(s),p({title:s.title,excerpt:s.excerpt,content:s.content,author:s.author,category:s.category,tags:s.tags.join(", "),image:s.image}),x(!0)},P=s=>{window.confirm("Are you sure you want to delete this blog post?")&&S(s)&&c()},C=s=>{E(s)&&c()},u=()=>{p({title:"",excerpt:"",content:"",author:"",category:"Design",tags:"",image:""}),j(null),x(!1)},g=o.filter(s=>a==="all"?!0:a==="published"?s.published:a==="draft"?!s.published:!0),d={total:o.length,published:o.filter(s=>s.published).length,drafts:o.filter(s=>!s.published).length};return e.jsxs("div",{className:"admin-blog",children:[e.jsxs("div",{className:"admin-blog-header",children:[e.jsx("h1",{children:"Blog Management"}),e.jsx("button",{className:"btn-new-post",onClick:()=>x(!0),children:"+ New Post"})]}),e.jsxs("div",{className:"blog-stats",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("span",{className:"stat-value",children:d.total}),e.jsx("span",{className:"stat-label",children:"Total Posts"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("span",{className:"stat-value",children:d.published}),e.jsx("span",{className:"stat-label",children:"Published"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("span",{className:"stat-value",children:d.drafts}),e.jsx("span",{className:"stat-label",children:"Drafts"})]})]}),N&&e.jsxs("div",{className:"blog-editor",children:[e.jsxs("div",{className:"editor-header",children:[e.jsx("h2",{children:h?"Edit Post":"Create New Post"}),e.jsx("button",{className:"btn-close",onClick:u,children:"×"})]}),e.jsxs("form",{onSubmit:f,className:"blog-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Title *"}),e.jsx("input",{type:"text",name:"title",value:t.title,onChange:l,required:!0,placeholder:"Enter post title"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Author *"}),e.jsx("input",{type:"text",name:"author",value:t.author,onChange:l,required:!0,placeholder:"Author name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{name:"category",value:t.category,onChange:l,children:[e.jsx("option",{value:"Design",children:"Design"}),e.jsx("option",{value:"Development",children:"Development"}),e.jsx("option",{value:"Marketing",children:"Marketing"}),e.jsx("option",{value:"Tutorial",children:"Tutorial"}),e.jsx("option",{value:"News",children:"News"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Excerpt *"}),e.jsx("textarea",{name:"excerpt",value:t.excerpt,onChange:l,required:!0,placeholder:"Brief description (shown in blog list)",rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Content *"}),e.jsx("textarea",{name:"content",value:t.content,onChange:l,required:!0,placeholder:"Full blog post content",rows:"10"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Image URL"}),e.jsx("input",{type:"text",name:"image",value:t.image,onChange:l,placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tags (comma-separated)"}),e.jsx("input",{type:"text",name:"tags",value:t.tags,onChange:l,placeholder:"design, web, tutorial"})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-save",children:h?"Update Post":"Create Post"}),e.jsx("button",{type:"button",className:"btn-cancel",onClick:u,children:"Cancel"})]})]})]}),e.jsxs("div",{className:"blog-filters",children:[e.jsx("button",{className:a==="all"?"active":"",onClick:()=>m("all"),children:"All Posts"}),e.jsxs("button",{className:a==="published"?"active":"",onClick:()=>m("published"),children:["Published (",d.published,")"]}),e.jsxs("button",{className:a==="draft"?"active":"",onClick:()=>m("draft"),children:["Drafts (",d.drafts,")"]})]}),e.jsx("div",{className:"posts-list",children:g.length===0?e.jsx("div",{className:"no-posts",children:e.jsxs("p",{children:["No ",a!=="all"?a:""," posts found."]})}):g.map(s=>e.jsxs("div",{className:`post-card ${s.published?"published":"draft"}`,children:[s.image&&e.jsx("div",{className:"post-image",children:e.jsx("img",{src:s.image,alt:s.title})}),e.jsxs("div",{className:"post-content",children:[e.jsxs("div",{className:"post-header",children:[e.jsx("h3",{children:s.title}),e.jsx("span",{className:`post-status ${s.published?"status-published":"status-draft"}`,children:s.published?"Published":"Draft"})]}),e.jsx("p",{className:"post-excerpt",children:s.excerpt}),e.jsxs("div",{className:"post-meta",children:[e.jsxs("span",{children:["By ",s.author]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:s.category}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(s.date).toLocaleDateString()})]}),s.tags.length>0&&e.jsx("div",{className:"post-tags",children:s.tags.map((n,i)=>e.jsx("span",{className:"tag",children:n},i))}),e.jsxs("div",{className:"post-actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>v(s),children:"Edit"}),!s.published&&e.jsx("button",{className:"btn-publish",onClick:()=>C(s.id),children:"Publish"}),e.jsx("button",{className:"btn-delete",onClick:()=>P(s.id),children:"Delete"})]})]})]},s.id))})]})};export{q as default};
