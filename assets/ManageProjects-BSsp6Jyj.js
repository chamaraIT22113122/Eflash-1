import{r as j,j as e,a1 as E,m as u,K as x,aG as v,az as f,aD as A,a2 as D}from"./index-DVvEjCP_.js";/* empty css                  */const o={getAll:()=>{const i=localStorage.getItem("eflash_admin_projects");return i?JSON.parse(i):[]},save:i=>{localStorage.setItem("eflash_admin_projects",JSON.stringify(i))},add:i=>{const r=o.getAll(),c={...i,id:Date.now()};return r.push(c),o.save(r),c},update:(i,r)=>{const c=o.getAll(),g=c.findIndex(n=>n.id===i);return g!==-1&&(c[g]={...r,id:i},o.save(c)),r},delete:i=>{const r=o.getAll().filter(c=>c.id!==i);o.save(r)}},I=()=>{const[i,r]=j.useState([]);j.useEffect(()=>{r(o.getAll())},[]);const[c,g]=j.useState(!1),[n,h]=j.useState(null),[a,d]=j.useState({title:"",description:"",category:"Web Design",tags:[],technologies:[],liveUrl:"",thumbnail:"",images:[],features:[],stats:{users:"",pages:"",performance:"",completion:""}}),N=["Web Design","Branding","UI/UX","Graphic Design","E-Commerce"],b=["React","Vue","Angular","WordPress","Shopify","HTML","CSS","JavaScript","Node.js","Python","Tailwind","Bootstrap","MongoDB","MySQL","Firebase"],w=()=>{if(!a.title||!a.description)return;const s={...a,tags:a.tags.filter(l=>l.trim()),technologies:a.technologies.filter(l=>l.trim()),features:a.features.filter(l=>l.trim())},t=o.add(s);r([...i,t]),window.dispatchEvent(new Event("adminProjectsUpdate")),d({title:"",description:"",category:"Web Design",tags:[],technologies:[],liveUrl:"",thumbnail:"",images:[],features:[],stats:{users:"",pages:"",performance:"",completion:""}}),g(!1)},y=s=>{h({...s})},P=()=>{const s=i.map(t=>t.id===n.id?n:t);o.update(n.id,n),r(s),h(null),window.dispatchEvent(new Event("adminProjectsUpdate"))},C=s=>{window.confirm("Are you sure you want to delete this project?")&&(o.delete(s),r(i.filter(t=>t.id!==s)),window.dispatchEvent(new Event("adminProjectsUpdate")))},S=(s,t=!1)=>{Array.from(s.target.files).forEach(U=>{const p=new FileReader;p.onloadend=()=>{t?h(m=>({...m,images:[...m.images,p.result]})):d(m=>({...m,images:[...m.images,p.result]}))},p.readAsDataURL(U)})};return e.jsxs("div",{className:"manage-projects admin-page admin-content",children:[e.jsxs("div",{className:"projects-header",children:[e.jsx("h1",{children:"Manage Projects"}),e.jsxs("button",{className:"add-project-btn",onClick:()=>g(!0),children:[e.jsx(E,{}),"Add New Project"]})]}),c&&e.jsxs(u.div,{className:"project-form-card",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsx("h3",{children:"Add New Project"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Project Title *"}),e.jsx("input",{type:"text",value:a.title,onChange:s=>d({...a,title:s.target.value}),placeholder:"Enter project title"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsx("select",{value:a.category,onChange:s=>d({...a,category:s.target.value}),children:N.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Description *"}),e.jsx("textarea",{value:a.description,onChange:s=>d({...a,description:s.target.value}),placeholder:"Project description",rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Live URL (optional)"}),e.jsx("input",{type:"url",value:a.liveUrl,onChange:s=>d({...a,liveUrl:s.target.value}),placeholder:"https://example.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Technologies"}),e.jsx("div",{className:"tech-selector",children:b.map(s=>e.jsx("button",{type:"button",className:`tech-option ${a.technologies.includes(s)?"selected":""}`,onClick:()=>{a.technologies.includes(s)?d(t=>({...t,technologies:t.technologies.filter(l=>l!==s)})):d(t=>({...t,technologies:[...t.technologies,s]}))},children:s},s))})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Project Images"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:s=>S(s,!1)}),a.images.length>0&&e.jsx("div",{className:"image-preview-grid",children:a.images.map((s,t)=>e.jsx("img",{src:s,alt:`Preview ${t}`},t))})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{onClick:()=>g(!1),className:"btn-cancel",children:[e.jsx(x,{}),"Cancel"]}),e.jsxs("button",{onClick:w,className:"btn-save",children:[e.jsx(v,{}),"Add Project"]})]})]}),e.jsx("div",{className:"projects-grid",children:i.map(s=>{var t;return e.jsx(u.div,{className:"project-card",layout:!0,children:n&&n.id===s.id?e.jsxs("div",{className:"edit-form",children:[e.jsx("input",{type:"text",value:n.title,onChange:l=>h({...n,title:l.target.value})}),e.jsx("textarea",{value:n.description,onChange:l=>h({...n,description:l.target.value}),rows:3}),e.jsx("input",{type:"url",value:n.liveUrl,onChange:l=>h({...n,liveUrl:l.target.value}),placeholder:"Live URL"}),e.jsxs("div",{className:"edit-actions",children:[e.jsxs("button",{onClick:P,className:"btn-save",children:[e.jsx(v,{}),"Save"]}),e.jsxs("button",{onClick:()=>h(null),className:"btn-cancel",children:[e.jsx(x,{}),"Cancel"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"project-thumbnail",children:(t=s.images)!=null&&t[0]?e.jsx("img",{src:s.images[0],alt:s.title}):e.jsxs("div",{className:"no-image",children:[e.jsx(f,{}),e.jsx("span",{children:"No Image"})]})}),e.jsxs("div",{className:"project-content",children:[e.jsx("h3",{children:s.title}),e.jsx("p",{className:"project-category",children:s.category}),e.jsx("p",{className:"project-description",children:s.description}),s.technologies&&s.technologies.length>0&&e.jsxs("div",{className:"tech-tags",children:[s.technologies.slice(0,3).map(l=>e.jsx("span",{className:"tech-tag",children:l},l)),s.technologies.length>3&&e.jsxs("span",{className:"tech-more",children:["+",s.technologies.length-3]})]}),s.liveUrl&&e.jsx("a",{href:s.liveUrl,target:"_blank",rel:"noopener noreferrer",className:"live-link",children:"View Live Site"})]}),e.jsxs("div",{className:"project-actions",children:[e.jsx("button",{onClick:()=>y(s),className:"btn-edit",children:e.jsx(A,{})}),e.jsx("button",{onClick:()=>C(s.id),className:"btn-delete",children:e.jsx(D,{})})]})]})},s.id)})}),i.length===0&&!c&&e.jsxs("div",{className:"no-projects",children:[e.jsx(f,{size:48}),e.jsx("h3",{children:"No projects yet"}),e.jsx("p",{children:"Start by adding your first project"})]})]})};export{I as default};
