const n="eflash_reviews",s={addReview:(t,e)=>{const r={id:`REV-${Date.now()}`,productId:t,rating:e.rating,title:e.title,content:e.content,authorName:e.authorName,authorEmail:e.authorEmail,verified:e.verified||!1,helpful:0,unhelpful:0,createdAt:new Date().toISOString(),approved:!1},i=s.getAllReviews();return i.push(r),localStorage.setItem(n,JSON.stringify(i)),r},getAllReviews:()=>{const t=localStorage.getItem(n);return t?JSON.parse(t):[]},getProductReviews:(t,e=!0)=>s.getAllReviews().filter(i=>i.productId===t&&(!e||i.approved)),getAverageRating:t=>{const e=s.getProductReviews(t,!0);return e.length===0?0:(e.reduce((i,o)=>i+o.rating,0)/e.length).toFixed(1)},getRatingDistribution:t=>{const e=s.getProductReviews(t,!0),r={5:0,4:0,3:0,2:0,1:0};return e.forEach(i=>{r[i.rating]++}),r},approveReview:t=>{const e=s.getAllReviews(),r=e.find(i=>i.id===t);return r&&(r.approved=!0,localStorage.setItem(n,JSON.stringify(e))),r},markHelpful:t=>{const e=s.getAllReviews(),r=e.find(i=>i.id===t);return r&&(r.helpful++,localStorage.setItem(n,JSON.stringify(e))),r},getPendingReviews:()=>s.getAllReviews().filter(e=>!e.approved),deleteReview:t=>{const r=s.getAllReviews().filter(i=>i.id!==t);return localStorage.setItem(n,JSON.stringify(r)),!0}},l=s.getAllReviews,v=s.approveReview,a=s.deleteReview;export{v as a,a as d,l as g,s as r};
