import{aa as v,ae as N,r as n,j as a,s as g,af as h,L as f,ag as F,ah as A,a8 as C,l as S,I as w,q as y,ai as k,aj as L,b as O,Y as E}from"./index-CPeUF1sN.js";import{a as x}from"./authService--E4lyTyB.js";const M=()=>{var d,m;const l=v(),j=N(),[e,u]=n.useState(null),[i,p]=n.useState(!0),[t,o]=n.useState(!1);n.useEffect(()=>{const s=x.getCurrentUser();!s||s.role!=="admin"?l("/admin/login"):u(s)},[l]);const b=()=>{window.confirm("Are you sure you want to logout?")&&(x.logout(),l("/admin/login"))},r=[{path:"/admin/dashboard",icon:a.jsx(C,{}),label:"Dashboard"},{path:"/admin/analytics",icon:a.jsx(S,{}),label:"Analytics & Traffic"},{path:"/admin/reviews",icon:a.jsx(w,{}),label:"Reviews"},{path:"/admin/orders",icon:a.jsx(y,{}),label:"Orders"},{path:"/admin/blog",icon:a.jsx(k,{}),label:"Blog Posts"},{path:"/admin/content",icon:a.jsx(L,{}),label:"Site Content"},{path:"/admin/users",icon:a.jsx(O,{}),label:"Users"},{path:"/admin/newsletter",icon:a.jsx(E,{}),label:"Newsletter"}],c=s=>j.pathname===s;return e?a.jsxs("div",{className:"admin-layout",children:[a.jsxs("aside",{className:`admin-sidebar ${i?"open":"collapsed"} ${t?"mobile-open":""}`,children:[a.jsxs("div",{className:"sidebar-header",children:[a.jsxs("div",{className:"sidebar-logo",children:[a.jsx("h2",{children:"E Flash"}),a.jsx("span",{children:"Admin Panel"})]}),a.jsx("button",{className:"sidebar-toggle desktop-only",onClick:()=>p(!i),children:i?a.jsx(g,{}):a.jsx(h,{})})]}),a.jsx("nav",{className:"sidebar-nav",children:r.map(s=>a.jsxs(f,{to:s.path,className:`nav-item ${c(s.path)?"active":""}`,onClick:()=>o(!1),children:[a.jsx("span",{className:"nav-icon",children:s.icon}),a.jsx("span",{className:"nav-label",children:s.label})]},s.path))}),a.jsxs("div",{className:"sidebar-footer",children:[a.jsxs("div",{className:"user-info",children:[a.jsx("div",{className:"user-avatar",children:((d=e.name)==null?void 0:d.charAt(0))||"A"}),a.jsxs("div",{className:"user-details",children:[a.jsx("div",{className:"user-name",children:e.name||"Admin"}),a.jsx("div",{className:"user-role",children:e.role})]})]}),a.jsxs("button",{className:"logout-btn",onClick:b,children:[a.jsx(F,{})," Logout"]})]})]}),a.jsxs("div",{className:"admin-main",children:[a.jsxs("header",{className:"admin-topbar",children:[a.jsx("button",{className:"mobile-menu-toggle",onClick:()=>o(!t),children:a.jsx(h,{})}),a.jsx("div",{className:"topbar-title",children:a.jsx("h1",{children:((m=r.find(s=>c(s.path)))==null?void 0:m.label)||"Admin Panel"})}),a.jsx("div",{className:"topbar-actions",children:a.jsxs("span",{className:"welcome-text",children:["Welcome, ",e.name||"Admin"]})})]}),a.jsx("main",{className:"admin-content",children:a.jsx(A,{})})]}),t&&a.jsx("div",{className:"mobile-overlay",onClick:()=>o(!1)})]}):null};export{M as default};
