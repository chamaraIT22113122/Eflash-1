import{_ as C,R as w,j as a,m as t,a0 as d,L as h,a1 as m,a2 as k,a3 as q,a4 as F,c as _}from"./index-BkmppxC1.js";import{S as f}from"./SEO-CtqUoEmy.js";import{b as r}from"./analytics-CN-G2SR9.js";const $=()=>{const{cartItems:i,removeFromCart:p,updateQuantity:u,getTotalPrice:l,clearCart:x}=C(),n=w(),j=(s,e)=>{p(s),n.success(`${e} removed from cart`),r("cart_item_removed",{product_id:s,product_name:e})},o=(s,e)=>{u(s,e),r("cart_quantity_updated",{product_id:s,quantity:e})},y=()=>{if(i.length===0){n.error("Your cart is empty");return}const s=i.map(c=>`${c.name} x${c.quantity} - Rs ${(c.price*c.quantity).toFixed(2)}`).join(`
`),e=l().toFixed(2),N=`Hello! I would like to place an order:

${s}

Total: Rs ${e}`,b=`https://wa.me/94775608073?text=${encodeURIComponent(N)}`;window.open(b,"_blank"),n.success("Opening WhatsApp for checkout"),r("checkout_initiated",{total_items:i.length,total_price:e,item_count:i.reduce((c,g)=>c+g.quantity,0)})},v=()=>{if(i.length===0){n.warning("Cart is already empty");return}window.confirm("Are you sure you want to clear the entire cart?")&&(x(),n.success("Cart cleared"),r("cart_cleared",{}))};return a.jsxs("main",{className:"cart-page",children:[a.jsx(f,{title:"Shopping Cart - E Flash",description:"Review your selected products and proceed to checkout",keywords:"shopping cart, checkout, products, order"}),a.jsx("section",{className:"cart-header",children:a.jsx("div",{className:"container",children:a.jsxs(t.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"cart-header-content",children:[a.jsx(d,{className:"cart-icon"}),a.jsx("h1",{children:"Shopping Cart"}),a.jsxs("p",{children:[i.length," item(s) in cart"]})]})})}),a.jsx("section",{className:"cart-content",children:a.jsx("div",{className:"container",children:i.length===0?a.jsxs(t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"empty-cart",children:[a.jsx(d,{className:"empty-icon"}),a.jsx("h2",{children:"Your cart is empty"}),a.jsx("p",{children:"Explore our products and add something to your cart!"}),a.jsxs(h,{to:"/shop",className:"btn btn-primary btn-lg",children:[a.jsx(m,{})," Continue Shopping"]})]}):a.jsxs("div",{className:"cart-layout",children:[a.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"cart-items-section",children:[a.jsx("h2",{children:"Items in Cart"}),a.jsx("div",{className:"cart-items",children:i.map((s,e)=>a.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:e*.1},className:"cart-item",children:[a.jsx("div",{className:"cart-item-image",children:a.jsx("img",{src:s.image,alt:s.name})}),a.jsxs("div",{className:"cart-item-details",children:[a.jsx("h3",{children:s.name}),a.jsxs("p",{className:"item-price",children:["Rs ",s.price.toFixed(2)]}),a.jsx("p",{className:"item-description",children:s.description})]}),a.jsxs("div",{className:"cart-item-quantity",children:[a.jsx("label",{children:"Quantity:"}),a.jsxs("div",{className:"quantity-controls",children:[a.jsx(t.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(s.id,Math.max(1,s.quantity-1)),className:"qty-btn",children:a.jsx(k,{})}),a.jsx("span",{className:"qty-value",children:s.quantity}),a.jsx(t.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(s.id,s.quantity+1),className:"qty-btn",children:a.jsx(q,{})})]})]}),a.jsxs("div",{className:"cart-item-total",children:[a.jsx("label",{children:"Total:"}),a.jsxs("span",{className:"total-price",children:["Rs ",(s.price*s.quantity).toFixed(2)]})]}),a.jsx(t.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>j(s.id,s.name),className:"remove-btn",title:"Remove from cart",children:a.jsx(F,{})})]},s.id))})]}),a.jsx(t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"cart-summary-section",children:a.jsxs("div",{className:"cart-summary",children:[a.jsx("h2",{children:"Order Summary"}),a.jsxs("div",{className:"summary-item",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["Rs ",l().toFixed(2)]})]}),a.jsxs("div",{className:"summary-item",children:[a.jsx("span",{children:"Items:"}),a.jsx("span",{children:i.reduce((s,e)=>s+e.quantity,0)})]}),a.jsx("div",{className:"summary-divider"}),a.jsxs("div",{className:"summary-total",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["Rs ",l().toFixed(2)]})]}),a.jsxs(t.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:y,className:"btn btn-primary btn-checkout btn-lg",children:[a.jsx(_,{})," Proceed to Checkout"]}),a.jsx(t.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:v,className:"btn btn-outline-danger btn-clear-cart",children:"Clear Cart"}),a.jsxs(h,{to:"/shop",className:"btn btn-outline-primary btn-continue",children:[a.jsx(m,{})," Continue Shopping"]}),a.jsxs("div",{className:"cart-info",children:[a.jsx("p",{children:"✓ Secure checkout via WhatsApp"}),a.jsx("p",{children:"✓ Fast delivery across Sri Lanka"}),a.jsx("p",{children:"✓ Multiple payment options available"})]})]})})]})})})]})};export{$ as default};
