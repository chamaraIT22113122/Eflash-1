import{r,j as e}from"./index-BCTqMaaO.js";import{g as u,d as N}from"./authService-BY4SLetA.js";const f=()=>{const[t,h]=r.useState([]),[a,c]=r.useState("all"),[l,m]=r.useState("");r.useEffect(()=>{i()},[]);const i=()=>{const s=u();h(s)},x=s=>{window.confirm(`Are you sure you want to delete user ${s}?`)&&N(s)&&i()},o=t.filter(s=>{const d=a==="all"||s.role===a,j=l===""||s.email.toLowerCase().includes(l.toLowerCase())||s.name&&s.name.toLowerCase().includes(l.toLowerCase());return d&&j}),n={total:t.length,admins:t.filter(s=>s.role==="admin").length,customers:t.filter(s=>s.role==="customer").length};return e.jsxs("div",{className:"admin-users",children:[e.jsx("div",{className:"admin-users-header",children:e.jsx("h1",{children:"User Management"})}),e.jsxs("div",{className:"users-stats",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("span",{className:"stat-value",children:n.total}),e.jsx("span",{className:"stat-label",children:"Total Users"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("span",{className:"stat-value",children:n.admins}),e.jsx("span",{className:"stat-label",children:"Administrators"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("span",{className:"stat-value",children:n.customers}),e.jsx("span",{className:"stat-label",children:"Customers"})]})]}),e.jsxs("div",{className:"users-controls",children:[e.jsx("div",{className:"search-bar",children:e.jsx("input",{type:"text",placeholder:"Search users by email or name...",value:l,onChange:s=>m(s.target.value)})}),e.jsxs("div",{className:"user-filters",children:[e.jsx("button",{className:a==="all"?"active":"",onClick:()=>c("all"),children:"All Users"}),e.jsx("button",{className:a==="admin"?"active":"",onClick:()=>c("admin"),children:"Admins"}),e.jsx("button",{className:a==="customer"?"active":"",onClick:()=>c("customer"),children:"Customers"})]})]}),e.jsx("div",{className:"users-table-container",children:o.length===0?e.jsx("div",{className:"no-users",children:e.jsx("p",{children:"No users found."})}):e.jsxs("table",{className:"users-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:o.map((s,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:s.email}),e.jsx("td",{children:s.name||"-"}),e.jsx("td",{children:e.jsx("span",{className:`role-badge role-${s.role}`,children:s.role})}),e.jsx("td",{children:s.createdAt?new Date(s.createdAt).toLocaleDateString():"-"}),e.jsxs("td",{children:[s.email!=="admin@eflash24.tech"&&e.jsx("button",{className:"btn-delete",onClick:()=>x(s.email),children:"Delete"}),s.email==="admin@eflash24.tech"&&e.jsx("span",{className:"protected-badge",children:"Protected"})]})]},d))})]})}),e.jsxs("div",{className:"users-note",children:[e.jsx("strong",{children:"Note:"})," The default admin account (admin@eflash24.tech) is protected and cannot be deleted."]})]})};export{f as default};
