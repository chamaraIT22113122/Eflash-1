import{ao as N,ar as g,r as n,j as a,K as f,as as h,L as F,at as A,au as C,al as S,l as w,X as y,q as k,av as x,aw as L,ax as O,b as E,aa as M}from"./index-CAv0PHeH.js";import{a as j}from"./authService-CLs9nV1Q.js";const B=()=>{var d,m;const l=N(),u=g(),[e,p]=n.useState(null),[i,b]=n.useState(!0),[t,o]=n.useState(!1);n.useEffect(()=>{const s=j.getCurrentUser();!s||s.role!=="admin"?l("/admin/login"):p(s)},[l]);const v=()=>{window.confirm("Are you sure you want to logout?")&&(j.logout(),l("/admin/login"))},r=[{path:"/admin/dashboard",icon:a.jsx(S,{}),label:"Dashboard"},{path:"/admin/analytics",icon:a.jsx(w,{}),label:"Analytics & Traffic"},{path:"/admin/reviews",icon:a.jsx(y,{}),label:"Reviews"},{path:"/admin/orders",icon:a.jsx(k,{}),label:"Orders"},{path:"/admin/projects",icon:a.jsx(x,{}),label:"Manage Projects"},{path:"/admin/products",icon:a.jsx(L,{}),label:"Manage Products"},{path:"/admin/blog",icon:a.jsx(O,{}),label:"Blog Posts"},{path:"/admin/content",icon:a.jsx(x,{}),label:"Site Content"},{path:"/admin/users",icon:a.jsx(E,{}),label:"Users"},{path:"/admin/newsletter",icon:a.jsx(M,{}),label:"Newsletter"}],c=s=>u.pathname===s;return e?a.jsxs("div",{className:"admin-layout",children:[a.jsxs("aside",{className:`admin-sidebar ${i?"open":"collapsed"} ${t?"mobile-open":""}`,children:[a.jsxs("div",{className:"sidebar-header",children:[a.jsxs("div",{className:"sidebar-logo",children:[a.jsx("h2",{children:"E Flash"}),a.jsx("span",{children:"Admin Panel"})]}),a.jsx("button",{className:"sidebar-toggle desktop-only",onClick:()=>b(!i),children:i?a.jsx(f,{}):a.jsx(h,{})})]}),a.jsx("nav",{className:"sidebar-nav",children:r.map(s=>a.jsxs(F,{to:s.path,className:`nav-item ${c(s.path)?"active":""}`,onClick:()=>o(!1),children:[a.jsx("span",{className:"nav-icon",children:s.icon}),a.jsx("span",{className:"nav-label",children:s.label})]},s.path))}),a.jsxs("div",{className:"sidebar-footer",children:[a.jsxs("div",{className:"user-info",children:[a.jsx("div",{className:"user-avatar",children:((d=e.name)==null?void 0:d.charAt(0))||"A"}),a.jsxs("div",{className:"user-details",children:[a.jsx("div",{className:"user-name",children:e.name||"Admin"}),a.jsx("div",{className:"user-role",children:e.role})]})]}),a.jsxs("button",{className:"logout-btn",onClick:v,children:[a.jsx(A,{})," Logout"]})]})]}),a.jsxs("div",{className:"admin-main",children:[a.jsxs("header",{className:"admin-topbar",children:[a.jsx("button",{className:"mobile-menu-toggle",onClick:()=>o(!t),children:a.jsx(h,{})}),a.jsx("div",{className:"topbar-title",children:a.jsx("h1",{children:((m=r.find(s=>c(s.path)))==null?void 0:m.label)||"Admin Panel"})}),a.jsx("div",{className:"topbar-actions",children:a.jsxs("span",{className:"welcome-text",children:["Welcome, ",e.name||"Admin"]})})]}),a.jsx("main",{className:"admin-content",children:a.jsx(C,{})})]}),t&&a.jsx("div",{className:"mobile-overlay",onClick:()=>o(!1)})]}):null};export{B as default};
